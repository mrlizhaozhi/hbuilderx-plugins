"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCloudObejctFilePath=exports.isInCloudObjectRuntime=exports.getCloudFunctionOrObjectRoot=exports.getCloudFunctionOrObjectName=void 0;const path=require("path");function getCloudFunctionOrObjectName(t){try{let e=/(?<=(\/|\\)uniCloud(-aliyun|-tcb)?(\/|\\)cloudfunctions(\/|\\))[^\/\\]*/g,o=t.match(e);if(o&&o.length>0)return o[0]}catch(t){}}function getCloudFunctionOrObjectRoot(t){let e=getCloudFunctionOrObjectName(t);if(e)try{let o=new RegExp(`.*cloudfunctions(/|\\\\)(?=${e})`),n=t.match(o);if(n&&n.length>0){let t=n[0];return path.join(t,e)}}catch(t){}}function isInCloudObjectRuntime(t){let e=getCloudFunctionOrObjectName(t);if(e){return new RegExp(`.*(/|\\\\)uniCloud(-aliyun|-tcb)?(/|\\\\)cloudfunctions(/|\\\\)${e}(/|\\\\)${e}.param.js`,"g").test(t)}return!1}function getCloudObejctFilePath(t){let e=getCloudFunctionOrObjectName(t);if(e){let o=new RegExp(`.*cloudfunctions(/|\\\\)(?=${e})`),n=t.match(o);if(n&&n.length>0){let t=n[0];return path.join(t,e,"index.obj.js")}}}exports.getCloudFunctionOrObjectName=getCloudFunctionOrObjectName,exports.getCloudFunctionOrObjectRoot=getCloudFunctionOrObjectRoot,exports.isInCloudObjectRuntime=isInCloudObjectRuntime,exports.getCloudObejctFilePath=getCloudObejctFilePath;