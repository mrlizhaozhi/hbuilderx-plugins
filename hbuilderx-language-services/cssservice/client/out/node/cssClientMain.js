"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.activate=void 0;const util_1=require("util"),vscode_1=require("vscode"),node_1=require("vscode-languageclient/node"),client_1=require("../../../../utils/client"),cssClient_1=require("../cssClient"),nodeFs_1=require("./nodeFs");function activate(e){const t=e.asAbsolutePath("./cssservice/server/out/node/cssServerMain");let n;n=e.extensionMode==vscode_1.ExtensionMode.Development?{execArgv:["--nolazy","--inspect=6044"]}:{execArgv:["--nolazy"]};const o={run:{module:t,transport:node_1.TransportKind.ipc},debug:{module:t,transport:node_1.TransportKind.ipc,options:n}};(0,cssClient_1.startClient)(e,((e,t,n)=>new client_1.HXLanguageClient(e,t,o,n)),{fs:(0,nodeFs_1.getNodeFSRequestService)(),TextDecoder:util_1.TextDecoder})}exports.activate=activate;