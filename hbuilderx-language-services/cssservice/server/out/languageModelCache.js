"use strict";function getLanguageModelCache(e,t,l){let a,o={},n=0;return t>0&&(a=setInterval((()=>{let e=Date.now()-1e3*t,l=Object.keys(o);for(let t of l){o[t].cTime<e&&(delete o[t],n--)}}),1e3*t)),{get(t){let a=t.version,r=t.languageId,g=o[t.uri];if(g&&g.version===a&&g.languageId===r)return g.cTime=Date.now(),g.languageModel;let u=l(t);if(o[t.uri]={languageModel:u,version:a,languageId:r,cTime:Date.now()},g||n++,n===e){let e=Number.MAX_VALUE,t=null;for(let l in o){let a=o[l];a.cTime<e&&(t=l,e=a.cTime)}t&&(delete o[t],n--)}return u},onDocumentRemoved(e){let t=e.uri;o[t]&&(delete o[t],n--)},dispose(){void 0!==a&&(clearInterval(a),a=void 0,o={},n=0)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLanguageModelCache=void 0,exports.getLanguageModelCache=getLanguageModelCache;