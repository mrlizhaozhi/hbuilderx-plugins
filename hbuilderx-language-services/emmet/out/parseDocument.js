"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clearParseCache=exports.removeFileFromParseCache=exports.addFileToParseCache=exports.getRootNode=void 0;const html_matcher_1=require("@emmetio/html-matcher"),css_parser2_1=require("css-parser2"),util_1=require("./util"),_parseCache=new Map;function getRootNode(e,r){const a=e.uri.toString(),t=_parseCache.get(a),o=e.version;if(r&&t&&o===t.key)return t.value;const s=((0,util_1.isStyleSheet)(e.languageId)?css_parser2_1.default:html_matcher_1.default)(e.getText());return r&&_parseCache.set(a,{key:o,value:s}),s}function addFileToParseCache(e){const r=e.uri.toString();_parseCache.set(r,void 0)}function removeFileFromParseCache(e){const r=e.uri.toString();_parseCache.delete(r)}function clearParseCache(){_parseCache.clear()}exports.getRootNode=getRootNode,exports.addFileToParseCache=addFileToParseCache,exports.removeFileFromParseCache=removeFileFromParseCache,exports.clearParseCache=clearParseCache;