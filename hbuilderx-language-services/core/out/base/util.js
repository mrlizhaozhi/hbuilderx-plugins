"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSameTextSpan=exports.toNormalizedUri=exports.toNormalizedPath=exports.readFileToString=exports.getExtensionRootPath=void 0;const fs=require("fs"),path=require("path"),vscode_uri_1=require("vscode-uri");function getExtensionRootPath(){return path.resolve(__dirname,"../../../")}function readFileWorker(t,e){let r;try{r=fs.readFileSync(t)}catch(t){return}let o=r.length;if(o>=2&&254===r[0]&&255===r[1]){o&=-2;for(let t=0;t<o;t+=2){const e=r[t];r[t]=r[t+1],r[t+1]=e}return r.toString("utf16le",2)}return o>=2&&255===r[0]&&254===r[1]?r.toString("utf16le",2):o>=3&&239===r[0]&&187===r[1]&&191===r[2]?r.toString("utf8",3):r.toString("utf8")}function readFileToString(t){return readFileWorker(t)}function toNormalizedPath(t,e){return e.server.toNormalizedPath(t)}function toNormalizedUri(t,e){if(t.startsWith("file:/")){let r=toNormalizedPath(vscode_uri_1.URI.parse(t).fsPath,e);return vscode_uri_1.URI.file(r).toString()}let r=toNormalizedPath(t,e);return vscode_uri_1.URI.file(r).toString()}function isSameTextSpan(t,e){return!(!t||!e)&&(t.start===e.start&&t.length===e.length)}exports.getExtensionRootPath=getExtensionRootPath,exports.readFileToString=readFileToString,exports.toNormalizedPath=toNormalizedPath,exports.toNormalizedUri=toNormalizedUri,exports.isSameTextSpan=isSameTextSpan;