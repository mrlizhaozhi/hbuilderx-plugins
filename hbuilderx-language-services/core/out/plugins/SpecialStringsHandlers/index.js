"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.doDefinition=exports.doHover=exports.doComplete=exports.getSpecialTypes=exports.hasType=exports.LanguageServiceType=exports.StringLocationInfoKind=exports.StringServicesContainer=void 0;const path=require("path"),vscode_languageserver_protocol_1=require("vscode-languageserver-protocol"),util_1=require("../../base/util"),URIType_1=require("./UriHandler/URIType");var StringLocationInfoKind,LanguageServiceType;!function(e){e[e.IN_HTML_LIKE=0]="IN_HTML_LIKE",e[e.IN_CSS_LIKE=1]="IN_CSS_LIKE",e[e.IN_JS_LIKE=2]="IN_JS_LIKE",e[e.IN_JSON_LIKE=3]="IN_JSON_LIKE"}(StringLocationInfoKind||(StringLocationInfoKind={})),exports.StringLocationInfoKind=StringLocationInfoKind,function(e){e[e.TS=0]="TS",e[e.TYPESCRIPT_LANGUAGE_SERVICE=1]="TYPESCRIPT_LANGUAGE_SERVICE",e[e.HTML_LANGUAGE_SERVICE=2]="HTML_LANGUAGE_SERVICE",e[e.Style_LANGUAGE_SERVICE=3]="Style_LANGUAGE_SERVICE"}(LanguageServiceType||(LanguageServiceType={})),exports.LanguageServiceType=LanguageServiceType;let specialType2Handler=new Map,handlerMap=new Map;function registerSpecialHandler(e,r){specialType2Handler.has(e)||specialType2Handler.set(e,r)}function hasType(e){return specialType2Handler.has(e)}function getSpecialTypes(){return Array.from(specialType2Handler.keys())}var StringServicesContainer;function createHandler(e,r,i,n){if(handlerMap.has(e))return handlerMap.get(e);try{let t=new(0,require(r).default)(i,!!n);return handlerMap.set(e,t),t}catch(e){}}function doComplete(e,r,i,n,t,l,a){let d=l;return e.forEach((e=>{if(!specialType2Handler.has(e))return;let l=specialType2Handler.get(e)();l&&l.doComplete&&(d=l.doComplete(r,i,n,t,d,a)),a&&(a=!1)})),vscode_languageserver_protocol_1.CompletionList.create(d,!0)}function doHover(e,r,i,n,t){let l,a=!1;return e.forEach((e=>{if(a)return;if(!specialType2Handler.has(e))return;let d=specialType2Handler.get(e)();d&&d.doHover&&(l=d.doHover(r,i,n,t),a=!0)})),l}function doDefinition(e,r,i,n,t){let l=[];return e.forEach((e=>{if(!specialType2Handler.has(e))return;let a=specialType2Handler.get(e)();a&&a.doDefinition&&l.push(...a.doDefinition(r,i,n,t))})),l}exports.hasType=hasType,exports.getSpecialTypes=getSpecialTypes,function(e){e.create=function(e){return{get:r=>null==e?void 0:e.get(r)}}}(StringServicesContainer=exports.StringServicesContainer||(exports.StringServicesContainer={})),function(){const e=(0,util_1.getExtensionRootPath)();specialType2Handler.set("HBuilderX.AttrString",(()=>createHandler("HBuilderX.AttrString","./HtmlAttributeHandler"))),specialType2Handler.set("HBuilderX.AttrValueString",(()=>createHandler("HBuilderX.AttrValueString","./HtmlAttributeValueHandler"))),specialType2Handler.set("HBuilderX.ClassString",(()=>createHandler("HBuilderX.ClassString","./HtmlClassStringHandler"))),specialType2Handler.set("HBuilderX.IDString",(()=>createHandler("HBuilderX.IDString","./HtmlIDStringHandler"))),specialType2Handler.set("HBuilderX.HTMLEventString",(()=>createHandler("HBuilderX.HTMLEventString","./HtmlEventStringHandler"))),specialType2Handler.set("HBuilderX.cssPropertyString",(()=>createHandler("HBuilderX.cssPropertyString","./CssPropertyStringHandler"))),specialType2Handler.set("HBuilderX.cssPropertyValueString",(()=>createHandler("HBuilderX.cssPropertyValueString","./CssPropertyValueHandler"))),specialType2Handler.set("HBuilderX.cssSelectorString",(()=>createHandler("HBuilderX.cssSelectorString","./CssSelectorStringHandler"))),specialType2Handler.set("HBuilderX.ColorString",(()=>createHandler("HBuilderX.ColorString","./ColorStringHandler"))),specialType2Handler.set("HBuilderX.ParentField",(()=>createHandler("HBuilderX.ParentField","./ParentFieldHandler"))),specialType2Handler.set("HBuilderX.ValidateFunctionString",(()=>createHandler("HBuilderX.ValidateFunctionString","./ValidateFunctionHandler"))),specialType2Handler.set("HBuilderX.VueI18NKeyString",(()=>createHandler("HBuilderX.VueI18NKeyString","./VueI18NKeyHandler"))),specialType2Handler.set("HBuilderX.SchemaField",(()=>createHandler("HBuilderX.SchemaField","./SchemaFieldHandler"))),specialType2Handler.set("HBuilderX.URIString",(()=>createHandler("HBuilderX.URIString","./UriHandler/URIHandler",[],!0))),specialType2Handler.set("HBuilderX.CssImportURIString",(()=>createHandler("HBuilderX.CssImportURIString","./UriHandler/URIHandler",URIType_1.CssImportURIString))),specialType2Handler.set("HBuilderX.ScssImportURIString",(()=>createHandler("HBuilderX.ScssImportURIString","./UriHandler/URIHandler",URIType_1.ScssImportURIString))),specialType2Handler.set("HBuilderX.LessImportURIString",(()=>createHandler("HBuilderX.LessImportURIString","./UriHandler/URIHandler",URIType_1.LessImportURIString))),specialType2Handler.set("HBuilderX.ImportURIString",(()=>createHandler("HBuilderX.ImportURIString","./UriHandler/ImportURIHandler",URIType_1.JsImportURIString))),specialType2Handler.set("HBuilderX.PageURIString",(()=>createHandler("HBuilderX.PageURIString","./UriHandler/PageURIHandler",URIType_1.PageURIString))),specialType2Handler.set("HBuilderX.NPageURIString",(()=>createHandler("HBuilderX.NPageURIString","./UriHandler/PageURIHandler",URIType_1.NPageURIString))),specialType2Handler.set("HBuilderX.CSSURIString",(()=>createHandler("HBuilderX.CSSURIString","./UriHandler/URIHandler",URIType_1.CssFileURIString))),specialType2Handler.set("HBuilderX.JSURIString",(()=>createHandler("HBuilderX.JSURIString","./UriHandler/URIHandler",URIType_1.JsFileURIString))),specialType2Handler.set("HBuilderX.HTMLURIString",(()=>createHandler("HBuilderX.HTMLURIString","./UriHandler/URIHandler",URIType_1.HtmlFileURIString))),specialType2Handler.set("HBuilderX.VueFileURIString",(()=>createHandler("HBuilderX.VueFileURIString","./UriHandler/URIHandler",URIType_1.VueFileURIString))),specialType2Handler.set("HBuilderX.ImageURIString",(()=>createHandler("HBuilderX.ImageURIString","./UriHandler/URIHandler",URIType_1.ImageURIString))),specialType2Handler.set("HBuilderX.AudioURIString",(()=>createHandler("HBuilderX.AudioURIString","./UriHandler/URIHandler",URIType_1.AudioURIString))),specialType2Handler.set("HBuilderX.VideoURIString",(()=>createHandler("HBuilderX.VideoURIString","./UriHandler/URIHandler",URIType_1.VideoURIString))),specialType2Handler.set("HBuilderX.FontURIString",(()=>createHandler("HBuilderX.FontURIString","./UriHandler/URIHandler",URIType_1.FontURIString))),specialType2Handler.set("HBuilderX.ClientDBActionString",(()=>createHandler("HBuilderX.ClientDBActionString",path.join(e,"uniapp/out/specialTypehandler/clientDBActionHandler")))),specialType2Handler.set("HBuilderX.CloudFunctions",(()=>createHandler("HBuilderX.CloudFunctions",path.join(e,"uniapp/out/specialTypehandler/cloudFunctionsHandler")))),specialType2Handler.set("HBuilderX.CloudObjects",(()=>createHandler("HBuilderX.CloudObjects",path.join(e,"uniapp/out/specialTypehandler/cloudObjectsHandler")))),specialType2Handler.set("HBuilderX.DBCollectionString",(()=>createHandler("HBuilderX.DBCollectionString",path.join(e,"uniapp/out/specialTypehandler/dbCollectionHandler")))),specialType2Handler.set("HBuilderX.DBFieldOrderByString",(()=>createHandler("HBuilderX.DBFieldOrderByString",path.join(e,"uniapp/out/specialTypehandler/dbFieldOrderByHandler")))),specialType2Handler.set("HBuilderX.DBFieldString",(()=>createHandler("HBuilderX.DBFieldString",path.join(e,"uniapp/out/specialTypehandler/dbFieldHandler")))),specialType2Handler.set("HBuilderX.JQLString",(()=>createHandler("HBuilderX.JQLString",path.join(e,"uniapp/out/specialTypehandler/jqlHandler")))),specialType2Handler.set("HBuilderX.RequireCommonString",(()=>createHandler("HBuilderX.RequireCommonString",path.join(e,"uniapp/out/specialTypehandler/RequireCommonHandler")))),specialType2Handler.set("HBuilderX.VueEventString",(()=>createHandler("HBuilderX.VueEventString","./vueEventHandler"))),specialType2Handler.set("HBuilderX.VueDataString",(()=>createHandler("HBuilderX.VueDataString","./vueDataHandler"))),specialType2Handler.set("HBuilderX.VuexDispatchString",(()=>createHandler("HBuilderX.VuexDispatchString","./vuexStoreHandler","dispatch"))),specialType2Handler.set("HBuilderX.VuexCommitString",(()=>createHandler("HBuilderX.VuexCommitString","./vuexStoreHandler","commit")))}(),exports.doComplete=doComplete,exports.doHover=doHover,exports.doDefinition=doDefinition;