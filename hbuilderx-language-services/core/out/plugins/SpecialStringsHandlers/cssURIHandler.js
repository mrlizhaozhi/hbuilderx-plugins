"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.doComplete=void 0;const vscode_languageserver_protocol_1=require("vscode-languageserver-protocol"),type_resolve_1=require("../common/type-resolve"),ProjectFileFilter_1=require("../tool/ProjectFileFilter"),index_1=require("./index");function doComplete(e,o,t,r){let i=(0,type_resolve_1.getTokenAtPosition)(t.ast,e.offsetAt(o)),l="",n=r.get(index_1.LanguageServiceType.TS);i.kind===n.SyntaxKind.StringLiteral&&(l=i.getText());let s=(0,ProjectFileFilter_1.getCompletionFilesSync)(t.project.fsPath,{extensionFilters:[".css"],prefixPath:l,timeout:1e3},e.uri),p=[];return null==s||s.files.forEach((e=>{p.push({label:e.relative,kind:e.isDir?vscode_languageserver_protocol_1.CompletionItemKind.Folder:vscode_languageserver_protocol_1.CompletionItemKind.File})})),p}exports.doComplete=doComplete;