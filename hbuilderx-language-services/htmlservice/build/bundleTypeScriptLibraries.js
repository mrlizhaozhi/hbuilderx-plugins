const path=require("path"),fs=require("fs"),child_process=require("child_process"),generatedNote="//\n// **NOTE**: Do not edit directly! This file is generated using `npm run import-typescript`\n//\n",TYPESCRIPT_LIB_SOURCE=path.join(__dirname,"../../node_modules/typescript/lib"),TYPESCRIPT_LIB_DESTINATION=path.join(__dirname,"../server/build");function importLibs(e){function t(e){return""===e?"lib_dts":`lib_${e.replace(/\./g,"_")}_dts`}function r(e){var t=path.join(TYPESCRIPT_LIB_SOURCE,function(e){return""===e?"lib.d.ts":`lib.${e}.d.ts`}(e));return fs.readFileSync(t).toString()}var n=[],s={},i=function(e){s[e]||(s[e]=!0,n.push(e))};i(e);for(var o=[];n.length>0;){var a=n.shift(),c=r(a).split(/\r\n|\r|\n/),h="",l=function(e){0===h.length?h=e:h+=` + ${e}`},p=[],u=function(){l(`"${escapeText(p.join("\n"))}"`),p=[]},d=[];for(let e=0;e<c.length;e++){let r=c[e].match(/\/\/\/\s*<reference\s*lib="([^"]+)"/);r?(u(),l(t(r[1])),d.push(t(r[1])),i(r[1])):p.push(c[e])}u(),o.push({name:t(a),deps:d,output:h})}for(var f=`/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n${generatedNote}`;o.length>0;)for(let e=o.length-1;e>=0;e--)if(0===o[e].deps.length){f+=`\nexport const ${o[e].name}: string = ${o[e].output};\n`;for(let t=0;t<o.length;t++)for(let r=0;r<o[t].deps.length;r++)if(o[t].deps[r]===o[e].name){o[t].deps.splice(r,1);break}o.splice(e,1);break}var T=path.join(TYPESCRIPT_LIB_DESTINATION,"lib.ts");fs.writeFileSync(T,f)}function escapeText(e){for(var t="\b".charCodeAt(0),r="\f".charCodeAt(0),n="\n".charCodeAt(0),s="\r".charCodeAt(0),i="\t".charCodeAt(0),o="\v".charCodeAt(0),a="\\".charCodeAt(0),c='"'.charCodeAt(0),h=0,l=null,p=[],u=0,d=e.length;u<d;u++){switch(e.charCodeAt(u)){case t:l="\\b";break;case r:l="\\f";break;case n:l="\\n";break;case 0:l="\\0";break;case s:l="\\r";break;case i:l="\\t";break;case o:l="\\v";break;case a:l="\\\\";break;case c:l='\\"'}null!==l&&(p.push(e.substring(h,u)),p.push(l),h=u+1,l=null)}return p.push(e.substring(h,d)),p.join("")}!function(){try{fs.statSync(TYPESCRIPT_LIB_DESTINATION)}catch(e){fs.mkdirSync(TYPESCRIPT_LIB_DESTINATION)}importLibs("es6")}();