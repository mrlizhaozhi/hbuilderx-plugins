"use strict";function normalizeMarkupContent(e){if(e)return"string"==typeof e?{kind:"markdown",value:e}:{kind:"markdown",value:e.value}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateDocumentation=exports.HTMLDataProvider=exports.normalizeMarkupContent=void 0,exports.normalizeMarkupContent=normalizeMarkupContent;class HTMLDataProvider{constructor(e,t){this.id=e,this._tags=[],this._tagMap={},this._valueSetMap={},this._tags=t.tags||[],this._globalAttributes=t.globalAttributes||[],this._tags.forEach((e=>{this._tagMap[e.name.toLowerCase()]=e})),t.valueSets&&t.valueSets.forEach((e=>{this._valueSetMap[e.name]=e.values}))}isApplicable(){return!0}getId(){return this.id}provideTags(){return this._tags}provideAttributes(e){const t=[],a=e=>{t.push(e)},r=this._tagMap[e.toLowerCase()];return r&&r.attributes.forEach(a),this._globalAttributes.forEach(a),t}provideValues(e,t){const a=[];t=t.toLowerCase();const r=e=>{e.forEach((e=>{e.name.toLowerCase()===t&&(e.values&&e.values.forEach((e=>{a.push(e)})),e.valueSet&&this._valueSetMap[e.valueSet]&&this._valueSetMap[e.valueSet].forEach((e=>{a.push(e)})))}))},o=this._tagMap[e.toLowerCase()];return o&&r(o.attributes),r(this._globalAttributes),a}}function generateDocumentation(e,t={},a){const r={kind:a?"markdown":"plaintext",value:""};if(e.description&&!1!==t.documentation){const t=normalizeMarkupContent(e.description);t&&(r.value+=t.value)}if(e.references&&e.references.length>0&&!1!==t.references&&(r.value.length&&(r.value+="\n\n"),r.value+=a?e.references.map((e=>`[${e.name}](${e.url})`)).join(" | "):e.references.map((e=>`${e.name}: ${e.url}`)).join("\n")),""!==r.value)return r}exports.HTMLDataProvider=HTMLDataProvider,exports.generateDocumentation=generateDocumentation;