"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocumentContext=exports.joinPath=exports.normalizePath=exports.resolvePath=exports.isAbsolutePath=void 0;var vscode_uri_1=require("vscode-uri"),Slash="/".charCodeAt(0),Dot=".".charCodeAt(0);function isAbsolutePath(t){return t.charCodeAt(0)===Slash}function resolvePath(t,e){if(isAbsolutePath(e)){var o=vscode_uri_1.URI.parse(t),r=e.split("/");return o.with({path:normalizePath(r)}).toString()}return joinPath(t,e)}function normalizePath(t){for(var e=[],o=0,r=t;o<r.length;o++){var n=r[o];0===n.length||1===n.length&&n.charCodeAt(0)===Dot||(2===n.length&&n.charCodeAt(0)===Dot&&n.charCodeAt(1)===Dot?e.pop():e.push(n))}t.length>1&&0===t[t.length-1].length&&e.push("");var a=e.join("/");return 0===t[0].length&&(a="/"+a),a}function joinPath(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];for(var r=vscode_uri_1.URI.parse(t),n=r.path.split("/"),a=0,s=e;a<s.length;a++){var h=s[a];n.push.apply(n,h.split("/"))}return r.with({path:normalizePath(n)}).toString()}function getDocumentContext(t,e){return{resolveReference:function(t,o){return"/"===t[0]?e?e+t.substr(1):void 0:resolvePath(o=o.substr(0,o.lastIndexOf("/")+1),t)}}}exports.isAbsolutePath=isAbsolutePath,exports.resolvePath=resolvePath,exports.normalizePath=normalizePath,exports.joinPath=joinPath,exports.getDocumentContext=getDocumentContext;