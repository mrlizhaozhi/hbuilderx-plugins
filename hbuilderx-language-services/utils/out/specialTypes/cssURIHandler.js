"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.doComplete=void 0;const ts=require("typescript"),vscode_languageserver_protocol_1=require("vscode-languageserver-protocol"),ProjectFileFilter_1=require("../languageserver/ProjectFileFilter"),type_resolve_1=require("../common/type-resolve");function doComplete(e,o,t){let r=(0,type_resolve_1.getTokenAtPosition)(t.sourceFile,o.offsetAt(e)),l="";r.kind===ts.SyntaxKind.StringLiteral&&(l=r.getText());let i=(0,ProjectFileFilter_1.getCompletionFilesSync)(t.workspaceFolder,{extensionFilters:[".css"],prefixPath:l,timeout:1e3},o.uri),s=[];return null==i||i.files.forEach((e=>{s.push({label:e.relative,kind:e.isDir?vscode_languageserver_protocol_1.CompletionItemKind.Folder:vscode_languageserver_protocol_1.CompletionItemKind.File})})),s}exports.doComplete=doComplete;