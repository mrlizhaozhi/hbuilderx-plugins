"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.doComplete=void 0;const vscode_languageserver_protocol_1=require("vscode-languageserver-protocol"),hxIconKind_1=require("../languageserver/hxIconKind"),htmlDataUtils_1=require("./htmlDataUtils"),dataProvider=(0,htmlDataUtils_1.htmlDataProvider)(),attrsCache=[];function getDistinctAttrs(){if(attrsCache.length>0)return attrsCache;let e=new Set,t=dataProvider.provideTags();for(let r of t){let t=dataProvider.provideAttributes(r.name);for(let r of t)e.has(r.name)||(e.add(r.name),attrsCache.push(r))}return attrsCache}function doComplete(e,t,r){dataProvider.provideTags();let a=getDistinctAttrs();const o=null==r?void 0:r.replaceRange;return a.map((e=>({label:e.name,kind:vscode_languageserver_protocol_1.CompletionItemKind.Value,textEdit:o?vscode_languageserver_protocol_1.TextEdit.replace(o,e.name):void 0,data:{hxKind:hxIconKind_1.HxIconKind.ATTRIBUTE}})))}exports.doComplete=doComplete;