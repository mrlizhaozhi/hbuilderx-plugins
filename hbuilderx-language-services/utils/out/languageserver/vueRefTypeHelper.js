"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const ts=require("typescript");function getType(e,i,t){let n=t.getSymbolsInScope(i,ts.SymbolFlags.Type).find((i=>i.escapedName===e));if(n)return t.getDeclaredTypeOfSymbol(n)}function asCallExpression(e){return e.kind==ts.SyntaxKind.CallExpression?e:void 0}function checkExpression(e,i,t,n,l,a){var o,r,s,d;if(n.kind===ts.SyntaxKind.Identifier){let e=n,i=t.getResolvedSymbol(e);if((null===(o=null==i?void 0:i.valueDeclaration)||void 0===o?void 0:o.kind)==ts.SyntaxKind.VariableDeclaration){let e=i.valueDeclaration,n=e.initializer?null===(r=asCallExpression(e.initializer))||void 0===r?void 0:r.expression:void 0;if(n&&n.kind==ts.SyntaxKind.Identifier){let e=t.getResolvedSymbol(n);const l=t.getTypeOfSymbol(e).symbol;if(l.valueDeclaration&&"ref"==l.escapedName){let e=null===(s=l.valueDeclaration.jsDoc)||void 0===s?void 0:s[0],n=e&&"vue.3.reactivity.ref"==e.comment;if(!n&&(null===(d=l.valueDeclaration)||void 0===d?void 0:d.parent.kind)==ts.SyntaxKind.SourceFile){n=l.valueDeclaration.parent.fileName.indexOf("/@vue/reactivity/")>0}if(n){let e=t.getTypeOfSymbol(i);if(e.typeArguments)return e.typeArguments[0]}}}}}}exports.default={checkExpression:checkExpression};