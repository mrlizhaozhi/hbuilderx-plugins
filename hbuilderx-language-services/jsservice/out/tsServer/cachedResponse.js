"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CachedResponse=void 0;class CachedResponse{constructor(){this.version=-1,this.document=""}execute(e,s){return this.response&&this.matches(e)?this.response=this.response.then((e=>"cancelled"===e.type?s():e)):this.reset(e,s)}matches(e){return this.version===e.version&&this.document===e.uri.toString()}async reset(e,s){return this.version=e.version,this.document=e.uri.toString(),this.response=s()}}exports.CachedResponse=CachedResponse;