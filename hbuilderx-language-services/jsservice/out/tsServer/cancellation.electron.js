"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.nodeRequestCancellerFactory=exports.NodeRequestCanceller=void 0;const fs=require("fs"),temp_electron_1=require("../utils/temp.electron");class NodeRequestCanceller{constructor(e,t){this._serverId=e,this._tracer=t,this.cancellationPipeName=(0,temp_electron_1.getTempFile)("tscancellation")}tryCancelOngoingRequest(e){if(!this.cancellationPipeName)return!1;this._tracer.logTrace(this._serverId,`TypeScript Server: trying to cancel ongoing request with sequence number ${e}`);try{fs.writeFileSync(this.cancellationPipeName+e,"")}catch(e){}return!0}}exports.NodeRequestCanceller=NodeRequestCanceller,exports.nodeRequestCancellerFactory=new class{create(e,t){return new NodeRequestCanceller(e,t)}};