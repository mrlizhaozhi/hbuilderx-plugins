"use strict";var RequestQueueingType;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RequestQueue=exports.RequestQueueingType=void 0,function(e){e[e.Normal=1]="Normal",e[e.LowPriority=2]="LowPriority",e[e.Fence=3]="Fence"}(RequestQueueingType=exports.RequestQueueingType||(exports.RequestQueueingType={}));class RequestQueue{constructor(){this.queue=[],this.sequenceNumber=0}get length(){return this.queue.length}enqueue(e){if(e.queueingType===RequestQueueingType.Normal){let u=this.queue.length-1;for(;u>=0&&this.queue[u].queueingType===RequestQueueingType.LowPriority;)--u;this.queue.splice(u+1,0,e)}else this.queue.push(e)}dequeue(){return this.queue.shift()}tryDeletePendingRequest(e){for(let u=0;u<this.queue.length;u++)if(this.queue[u].request.seq===e)return this.queue.splice(u,1),!0;return!1}createRequest(e,u){return{seq:this.sequenceNumber++,type:"request",command:e,arguments:u}}}exports.RequestQueue=RequestQueue;