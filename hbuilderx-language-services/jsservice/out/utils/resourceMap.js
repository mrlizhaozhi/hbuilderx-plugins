"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResourceMap=void 0;class ResourceMap{constructor(e=(e=>e.fsPath),t){this._normalizePath=e,this.config=t,this._map=new Map}get size(){return this._map.size}has(e){const t=this.toKey(e);return!!t&&this._map.has(t)}get(e){const t=this.toKey(e);if(!t)return;const s=this._map.get(t);return s?s.value:void 0}set(e,t){const s=this.toKey(e);if(!s)return;const i=this._map.get(s);i?i.value=t:this._map.set(s,{resource:e,value:t})}delete(e){const t=this.toKey(e);t&&this._map.delete(t)}clear(){this._map.clear()}get values(){return Array.from(this._map.values()).map((e=>e.value))}get entries(){return this._map.values()}toKey(e){const t=this._normalizePath(e);return t&&this.isCaseInsensitivePath(t)?t.toLowerCase():t}isCaseInsensitivePath(e){return!!isWindowsPath(e)||"/"===e[0]&&this.config.onCaseInsenitiveFileSystem}}function isWindowsPath(e){return/^[a-zA-Z]:[\/\\]/.test(e)}exports.ResourceMap=ResourceMap;