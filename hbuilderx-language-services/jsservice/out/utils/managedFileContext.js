"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const vscode=require("vscode"),dispose_1=require("./dispose"),languageDescription_1=require("./languageDescription"),languageModeIds_1=require("./languageModeIds");class ManagedFileContextManager extends dispose_1.Disposable{constructor(e){super(),this.normalizePath=e,this.isInManagedFileContext=!1,vscode.window.onDidChangeActiveTextEditor(this.onDidChangeActiveTextEditor,this,this._disposables),this.onDidChangeActiveTextEditor(vscode.window.activeTextEditor)}onDidChangeActiveTextEditor(e){e&&e.document&&this.updateContext(this.isManagedFile(e))}updateContext(e){e!==this.isInManagedFileContext&&(this.isInManagedFileContext=e)}isManagedFile(e){return this.isManagedScriptFile(e)||this.isManagedConfigFile(e)}isManagedScriptFile(e){return(0,languageModeIds_1.isSupportedLanguageMode)(e.document)&&null!==this.normalizePath(e.document.uri)}isManagedConfigFile(e){return(0,languageDescription_1.isJsConfigOrTsConfigFileName)(e.document.fileName)}}exports.default=ManagedFileContextManager,ManagedFileContextManager.contextName="typescript.isManagedFile";